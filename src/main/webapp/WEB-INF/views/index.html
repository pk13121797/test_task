<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link th:href="@{/resources/css/home.css}" rel="stylesheet">
    <title th:text="#{menu.title}">Menu</title>
</head>
<body>
<br>
<h2 class="ml" th:text="#{menu.title}">Menu</h2>
<br>
<div class="ml">
    <form th:action="@{/projects}">
        <button class="btn btn-light" th:text="#{menu.projects}">Projects</button>
    </form>
</div>
<br>
<div class="ml">
    <form th:action="@{/tasks}">
        <button class="btn btn-light" th:text="#{menu.tasks}">Tasks</button>
    </form>
</div>
<br>
<div class="ml">
    <form th:action="@{/employees}">
        <button class="btn btn-light" th:text="#{menu.employees}">Employees</button>
    </form>
</div>
<br>
<hr/>
<div class="ml">
    <a th:href="@{'?lang=en'}" th:text="#{menu.en}">English</a>
    <a th:href="@{'?lang=ru'}" th:text="#{menu.ru}">Russian</a>
</div>
<hr/>
<div class="ml">
    <div sec:authorize="isAnonymous()">
        <a th:href="@{/login}" th:text="#{menu.login}">Login</a>
        <a th:href="@{/reg}" th:text="#{menu.reg}">Register</a>
    </div>
    <div sec:authorize="isAuthenticated()">
        <p th:text="#{menu.greeting}" style="display: inline;">
            Hello,
        </p>
        <div th:if="${oauth2Username == null}">
            <span sec:authentication="name"></span><br/>
            <span sec:authentication="principal.authorities"></span><br/>
            <div sec:authorize="hasRole('ROLE_ADMIN')">
                <a th:href="@{/users}" th:text="#{menu.users}">Users</a>
            </div>
        </div>
        <div th:if="${oauth2Username != null}">
            <p th:text="${oauth2Username}"></p>
        </div>
        <a th:href="@{/logout}" th:text="#{menu.logout}">Logout</a>
    </div>
</div>
</body>
</html>